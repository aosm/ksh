--- src/lib/libast/features/common~	2007-03-25 10:07:46.000000000 -0700
+++ src/lib/libast/features/common	2007-06-07 16:02:23.000000000 -0700
@@ -267,7 +267,13 @@ tst	- -DN=1 - -DN=2 - -DN=3 - -DN=4 - -D
 		printf("#define _ast_intmax_t		_ast_int%d_t\n", m);
 		if (m == sizeof(long))
 			printf("#define _ast_intmax_long		1\n");
-		printf("#define _ast_intswap		%d\n", w);
+		printf("#if __LITTLE_ENDIAN__\n");
+		printf("#define _ast_intswap		7\n");
+		printf("#elif __BIG_ENDIAN__\n");
+		printf("#define _ast_intswap		0\n");
+		printf("#else\n");
+		printf("#error Unknown byte sex\n");
+		printf("#endif\n");
 		printf("\n");
 		return 0;
 	}
